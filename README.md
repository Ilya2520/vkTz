# vkTz
Небольшое тестовое задание.

Стэк: PHP, Symfony, Docker

# Запуск:
Проект использует docker-compose, поэтому для запуска проекта он необходим, также необходим makefile для уобного запуска команд
```
make build
make up
```
После запуска контейнеров зайти в контейнер php командой
```
make php
```
Установить миграции в бд
```  
php bin/console doctrine:migrations:migrate
```
Проект готов к тестированию

# Описание
- Точка входа localhost:8000
- Доступны следующие страницы: /users - список пользователей,/users/{$id} - профиль пользователя, /quests - список всех задач
- /users/{$id} - возможность переключения между пользоватилями, возможно выполнять задания по нажатию кнопки

# User:
- Пользователь, следующие поля: id, name, balance
1. Создание пользователя:
   - Метод: POST
   - URL: /api/user/create
   - Параметры запроса: JSON с полями "name" (имя пользователя) и "balance" (баланс пользователя)
   - Описание: Создает нового пользователя с указанным именем и балансом.

2. Получение списка пользователей:
   - Метод: GET
   - URL: /users
   - Описание: Возвращает список всех пользователей.

3. Просмотр профиля пользователя:
   - Метод: GET
   - URL: /users/{id}
   - Параметры URL: id (идентификатор пользователя)
   - Описание: Отображает профиль указанного пользователя со списком доступных квестов.

4. Пометка квеста как выполненного:
   - Метод: POST
   - URL: /api/quest/complete
   - Параметры запроса: JSON с полями "user_id" (идентификатор пользователя) и "quest_id" (идентификатор квеста)
   - Описание: Помечает указанный квест как выполненный для указанного пользователя, обновляя баланс пользователя и создавая запись о выполненном квесте.

5. Получение списка выполненных квестов для пользователя:
   - Метод: GET
   - URL: /api/completed-quests/{userId}
   - Параметры URL: userId (идентификатор пользователя)
   - Описание: Возвращает список всех выполненных квестов для указанного пользователя в формате JSON.

# Quest:
- Квест, следующие поля: id, name, price(награда за выполнение)
1. Просмотр списка квестов:
   - Метод: GET
   - URL: /quest
   - Описание: Отображает страницу со списком квестов.

2. Создание нового квеста:
   - Метод: POST
   - URL: /api/quest/create
   - Параметры запроса: JSON объект с полями "name" (название квеста) и "price" (цена квеста).
   - Описание: Создает новый квест на основе переданных данных.

# CompleteQuest
- Квест, следующие поля: id, user_id(id пользователя), quest_id(id квеста), completed_at(дата выполнения) 
1. Получение списка всех квестов:
   - Метод: GET
   - URL: /quests
   - Описание: Возвращает список всех доступных квестов.

2. Получение списка завершенных квестов:
   - Метод: GET
   - URL: /api/completed-quests/
   - Описание: Возвращает список всех завершенных квестов в формате JSON.
